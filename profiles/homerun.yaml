---
preSurvey:
  - prompt: "SYSTEM"
    name: system
    options:
      - "github"
      - "gitlab"
      - "ansible"

  - prompt: "SEVERITY"
    name: severity
    options:
      - "INFO"
      - "WARNING"
      - "ERROR"

# surveys:
#   - tests/{{ .system }}-survey.yaml

aliases:
  - "gitlab-survey:git"
  - "github-survey:git"

bodyTemplate: |
  {
      "System": "{{ .system }}",
      {{ $object := randomUsecase .system .allUsecases }}
      "Title": "{{ $object }}",
      "Severity": "{{ .severity }}"
      {{ $author := random .authors }}
      "Author": "{{ $author }}",
      "Tags": "{{ random .authors }}",
      "Timestamp": "{{ timestamp }}",
      {{ $assignee := random .authors }}
      "AssigneeName": "{{ $assignee }}",
      "AssigneeAddress": "{{ getValueFromStringMap $assignee .authorAddresses }}",
  }

usecases:
  gitlab:
    - "PullRequest"
    - "PipelineRun"
    - "Issue"
  github:
    - "PullRequest"
    - "WorflowRun"
    - "Issue"
  ansible:
    - "PlaybookRun"
    - "CollecionBuild"

events:
  PullRequest:
    title: "PullRequest {{ .objectTitle }} was created on {{ .system }}"
    message: PullRequest {{ .objectTitle }} was created on {{ .system }} by {{ .author }}


authors:
  - "mark:mark@blink182.com"
  - "tom:tom@blink182.com"
  - "travis:travis@blink182.com"

# preValues:
#   git:
#     systems:
#       - "github"
#       - "gitlab"
#     github-events:
#       - "PullRequest"
#       - "Pipeline Run"
#       - "Issue"



# scenarios:
#   github-:
#     title: |
#     message:
#       - "Please fill out the following survey to help us understand your GitLab setup."
#       - "Please fill out the following survey to help us understand your GitHub setup."
#     severity: "{{ .severity }}"
#     author:          author,
#     timestamp:       timestamp,
#     system:
#       - "github"
#       - "gitlab"
#     tags:            tags,
#     assigneeAddress: assigneeUrl,
#     assigneeName:    assignee,
#     artifacts:       artifacts,
#     url:             url,
